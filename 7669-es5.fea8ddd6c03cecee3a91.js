!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function o(n,o,i){return o&&t(n.prototype,o),i&&t(n,i),n}(self.webpackChunkion_tk_social_network=self.webpackChunkion_tk_social_network||[]).push([[7669],{57669:function(t,i,e){"use strict";e.r(i),e.d(i,{MainPageModule:function(){return N}});var r=e(61116),a=e(75425),s=e(6921),c=e(57476),u=e(39238),g=e(64762),l=e(74249),p=e(61071),d=e(9153),Z=e(95898),m=e(55906),f=e(33316);function h(n,t){1&n&&(f.ynx(0),f.TgZ(1,"ion-item",4),f._UZ(2,"ion-skeleton-text",5),f.qZA(),f.TgZ(3,"div",6),f.TgZ(4,"ion-text",7),f._UZ(5,"ion-skeleton-text",8),f.qZA(),f.qZA(),f.BQk())}var x=function(){return{seen:!1}};function v(n,t){if(1&n&&(f.ynx(0),f.TgZ(1,"ion-item",4),f.TgZ(2,"ion-avatar",9),f._UZ(3,"ion-img",10),f.qZA(),f.qZA(),f.TgZ(4,"div",6),f.TgZ(5,"ion-text",7),f._uU(6),f.qZA(),f.qZA(),f.BQk()),2&n){var o=f.oxw().$implicit;f.xp6(2),f.Q6J("ngClass",f.DdM(3,x)),f.xp6(1),f.Q6J("src",o.avatar),f.xp6(3),f.hij(" ",o.firstName," ")}}function y(n,t){if(1&n){var o=f.EpF();f.TgZ(0,"ion-list",2),f.NdJ("click",function(n){var t=f.CHM(o).$implicit;return f.oxw().openStory(n,t)}),f.YNc(1,h,6,0,"ng-container",3),f.YNc(2,v,7,4,"ng-container",3),f.qZA()}if(2&n){var i=t.$implicit;f.xp6(1),f.Q6J("ngIf",i.skeleton),f.xp6(1),f.Q6J("ngIf",!i.skeleton)}}var b=function(){var t=function(){function t(){n(this,t),this.isLoading=!0,this.onOpenStory=new f.vpe}return o(t,[{key:"openStory",value:function(n,t){this.onOpenStory.emit(t)}},{key:"trackByStory",value:function(n){return n}},{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=f.Xpm({type:t,selectors:[["app-users-stories"]],inputs:{isLoading:"isLoading",stories:"stories"},outputs:{onOpenStory:"onOpenStory"},decls:2,vars:2,consts:[["scrollX","true",1,"stories-card"],["lines","none","class","story-list",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["lines","none",1,"story-list",3,"click"],[4,"ngIf"],["lines","none",1,"story-item"],[2,"height","64px","width","64px","border-radius","50%","margin","auto"],[1,"story-author"],["color","primary"],[2,"width","80%","margin","auto"],[1,"story-avatar",3,"ngClass"],[3,"src"]],template:function(n,t){1&n&&(f.TgZ(0,"ion-card",0),f.YNc(1,y,3,2,"ion-list",1),f.qZA()),2&n&&(f.xp6(1),f.Q6J("ngForOf",t.stories)("ngForTrackBy",t.trackByStory))},directives:[l.PM,r.sg,l.q_,r.O5,l.Ie,l.CK,l.yW,l.BJ,r.mk,l.Xz],styles:[".stories-card[_ngcontent-%COMP%]{margin:16px 0 0;margin-top:var(--ion-margin,16px);border-radius:0}.stories-card[_ngcontent-%COMP%]   .story-list[_ngcontent-%COMP%]{--background:inherit;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;background:initial;padding-top:0;padding-bottom:0}.stories-card[_ngcontent-%COMP%]   .story-item[_ngcontent-%COMP%]{--inner-padding-bottom:0px;--inner-padding-end:0px;--inner-padding-start:0px;--inner-padding-top:0px;--padding-end:0px;--padding-start:0px;--background:inherit;margin:8px;margin:var(--ion-margin,8px);transition:all .1s ease-in-out}.stories-card[_ngcontent-%COMP%]   .story-item[_ngcontent-%COMP%]:active{transform:scale(1.1)}.stories-card[_ngcontent-%COMP%]   .story-avatar[_ngcontent-%COMP%]{background:var(--ion-color-primary);height:64px;width:64px;padding:2px;margin-top:0;margin-bottom:0}.stories-card[_ngcontent-%COMP%]   .story-avatar.seen[_ngcontent-%COMP%]{background:var(--ion-color-light)}.stories-card[_ngcontent-%COMP%]   .story-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;border:2px solid var(--background,#fff);border-radius:50%}.stories-card[_ngcontent-%COMP%]   .story-author[_ngcontent-%COMP%]{text-align:center;margin-bottom:8px;margin-bottom:var(--ion-margin,8px)}"]}),t}();function k(n,t){1&n&&(f.TgZ(0,"ion-card",3),f.TgZ(1,"ion-item",4),f.TgZ(2,"ion-avatar",5),f._UZ(3,"ion-skeleton-text",6),f.qZA(),f.TgZ(4,"ion-label"),f._UZ(5,"ion-skeleton-text",7),f.TgZ(6,"p"),f._UZ(7,"ion-skeleton-text",8),f.qZA(),f.qZA(),f.qZA(),f._UZ(8,"ion-skeleton-text",9),f.TgZ(9,"ion-card-content",10),f._UZ(10,"ion-skeleton-text",11),f.qZA(),f.TgZ(11,"ion-item",12),f.TgZ(12,"ion-buttons",5),f.TgZ(13,"ion-button",13),f._UZ(14,"ion-skeleton-text",14),f.qZA(),f.TgZ(15,"ion-button",13),f._UZ(16,"ion-skeleton-text",14),f.qZA(),f.TgZ(17,"ion-button",13),f._UZ(18,"ion-skeleton-text",14),f.qZA(),f.qZA(),f.TgZ(19,"ion-buttons",15),f.TgZ(20,"ion-button",13),f._UZ(21,"ion-skeleton-text",14),f.qZA(),f.qZA(),f.qZA(),f.qZA())}var _=function(){return[1,2,3,4]};function A(n,t){1&n&&(f.ynx(0),f.YNc(1,k,22,0,"ion-card",2),f.BQk()),2&n&&(f.xp6(1),f.Q6J("ngForOf",f.DdM(1,_)))}function T(n,t){if(1&n&&(f.TgZ(0,"ion-card",3),f.TgZ(1,"ion-item",4),f.TgZ(2,"ion-avatar",5),f._UZ(3,"img",16),f.qZA(),f.TgZ(4,"ion-label"),f._uU(5),f.TgZ(6,"p"),f._uU(7,"two minutes ago"),f.qZA(),f.qZA(),f.TgZ(8,"ion-buttons",15),f.TgZ(9,"ion-button",13),f._UZ(10,"ion-icon",17),f.qZA(),f.qZA(),f.qZA(),f._UZ(11,"img",16),f.TgZ(12,"ion-card-content",10),f._uU(13),f.qZA(),f.TgZ(14,"ion-item",12),f.TgZ(15,"ion-buttons",5),f.TgZ(16,"ion-button",13),f._UZ(17,"ion-icon",18),f.TgZ(18,"small"),f._uU(19),f.qZA(),f.qZA(),f.TgZ(20,"ion-button",13),f._UZ(21,"ion-icon",19),f.TgZ(22,"small"),f._uU(23),f.qZA(),f.qZA(),f.TgZ(24,"ion-button",13),f._UZ(25,"ion-icon",20),f.TgZ(26,"small"),f._uU(27),f.qZA(),f.qZA(),f.qZA(),f.TgZ(28,"ion-buttons",15),f.TgZ(29,"ion-button",13),f._UZ(30,"ion-icon",21),f.TgZ(31,"small"),f._uU(32),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&n){var o=t.$implicit;f.xp6(3),f.Q6J("src",o.avatar,f.LSH),f.xp6(2),f.AsE(" ",o.firstName," ",o.lastName," "),f.xp6(6),f.Q6J("src",o.image,f.LSH),f.xp6(2),f.hij(" ",o.content," "),f.xp6(6),f.Oqu(o.likes),f.xp6(4),f.Oqu(o.comments),f.xp6(4),f.Oqu(o.shared),f.xp6(5),f.Oqu(o.views)}}var q=function(){var t=function(){function t(){n(this,t),this.isLoading=!0}return o(t,[{key:"trackByPost",value:function(n){return n}},{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=f.Xpm({type:t,selectors:[["app-users-posts"]],inputs:{isLoading:"isLoading",posts:"posts"},decls:2,vars:3,consts:[[4,"ngIf"],["class","post-list-card",4,"ngFor","ngForOf","ngForTrackBy"],["class","post-list-card",4,"ngFor","ngForOf"],[1,"post-list-card"],["lines","none"],["slot","start"],[2,"width","100%","height","100%","border-radius","50%"],[2,"width","50%"],[2,"width","100%"],[2,"width","100%","height","200px"],[1,"post-list-content"],[2,"width","100%","height","50px"],["lines","none",1,"ion-no-padding",2,"margin-left","10px"],["color","medium"],[2,"width","32px","height","32px","border-radius","50%"],["slot","end"],[3,"src"],["slot","icon-only","md","ellipsis-vertical-outline","ios","ellipsis-horizontal-outline"],["slot","start","name","heart-outline"],["slot","start","name","chatbox-outline"],["slot","start","name","return-up-forward-outline"],["size","small","slot","start","name","eye-outline"]],template:function(n,t){1&n&&(f.YNc(0,A,2,2,"ng-container",0),f.YNc(1,T,33,9,"ion-card",1)),2&n&&(f.Q6J("ngIf",t.isLoading),f.xp6(1),f.Q6J("ngForOf",t.posts)("ngForTrackBy",t.trackByPost))},directives:[r.O5,r.sg,l.PM,l.Ie,l.BJ,l.CK,l.Q$,l.FN,l.Sm,l.YG,l.gu],styles:["[_nghost-%COMP%]:last-child{margin-bottom:32px;margin-bottom:var(--ion-margin,32px)}.post-list-card[_ngcontent-%COMP%]{margin-top:16px;margin-top:var(--ion-margin,16px);margin-left:0;margin-right:0;margin-bottom:0;border-radius:0}.post-list-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--inner-padding-end:0px;--background:inherit}.post-list-card[_ngcontent-%COMP%]   .post-list-content[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.post-list-card[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{margin-right:16px!important;margin-right:var(--ion-margin,16px)!important}"]}),t}(),w=e(85649);function O(n,t){1&n&&(f.TgZ(0,"ion-segment-button"),f.TgZ(1,"ion-label"),f._UZ(2,"ion-skeleton-text",18),f.qZA(),f.qZA())}function C(n,t){if(1&n&&(f.TgZ(0,"ion-segment-button",19),f.TgZ(1,"ion-label"),f._uU(2),f.ALo(3,"translate"),f.qZA(),f.qZA()),2&n){var o=f.oxw().$implicit;f.Q6J("value",o.name),f.xp6(2),f.Oqu(f.lcZ(3,2,"mainTabs."+o.name))}}function P(n,t){if(1&n&&(f.ynx(0),f.YNc(1,O,3,0,"ion-segment-button",16),f.YNc(2,C,4,4,"ion-segment-button",17),f.BQk()),2&n){var o=t.$implicit;f.xp6(1),f.Q6J("ngIf",o.skeleton),f.xp6(1),f.Q6J("ngIf",!o.skeleton)}}var M,U,J=[{path:"",component:(M=function(){function t(o,i){n(this,t),this.store=o,this.menuController=i}return o(t,[{key:"trackBy",value:function(n){return n}},{key:"toggleCameraMenu",value:function(){console.log("toggleCameraMenu"),this.menuController.toggle("camera")}},{key:"doRefresh",value:function(n){return(0,g.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,d.n)(this.store.dispatch(new Z.Nw.FetchNews(1,!0)));case 2:return n.next=4,this.ionRefresher.complete();case 4:case"end":return n.stop()}},n,this)}))}},{key:"loadDataNewsPagination",value:function(n){return(0,g.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.store.selectSnapshot(function(n){return n.main.news.activePage}),n.next=3,(0,d.n)(this.store.dispatch(new Z.Nw.FetchNews(t+1)));case 3:return n.next=5,this.infiniteScroll.complete();case 5:case"end":return n.stop()}},n,this)}))}},{key:"ngOnInit",value:function(){return(0,g.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}},n)}))}},{key:"ionViewDidEnter",value:function(){var n=this.store.selectSnapshot(function(n){return n.main.news.activePage});this.store.dispatch([new Z.NR.FetchMainTabs,new Z.oz.FetchStories,new Z.Nw.FetchNews(n)]),this.menuController.enable(!0,"camera")}},{key:"ionViewDidLeave",value:function(){this.menuController.enable(!1,"camera")}}]),t}(),M.\u0275fac=function(n){return new(n||M)(f.Y36(p.yh),f.Y36(l._q))},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-main"]],viewQuery:function(n,t){var o;1&n&&(f.Gf(l.W2,5),f.Gf(l.nJ,5),f.Gf(l.ju,5)),2&n&&(f.iGM(o=f.CRH())&&(t.ionContent=o.first),f.iGM(o=f.CRH())&&(t.ionRefresher=o.first),f.iGM(o=f.CRH())&&(t.infiniteScroll=o.first))},decls:27,vars:17,consts:[[3,"translucent"],["slot","start"],["color","primary",3,"click"],["slot","icon-only","name","camera-outline"],["slot","end"],["color","primary"],["slot","icon-only","name","search-outline"],["slot","icon-only","name","notifications-outline"],[1,"ion-no-padding"],["mode","md","scrollable","","value","news"],[4,"ngFor","ngForOf","ngForTrackBy"],["slot","fixed","pullFactor","0.5","pullMin","50","pullMax","100",3,"ionRefresh"],[3,"stories"],[3,"posts","isLoading"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","lines"],[4,"ngIf"],[3,"value",4,"ngIf"],[2,"width","70px"],[3,"value"]],template:function(n,t){1&n&&(f.TgZ(0,"ion-header",0),f.TgZ(1,"ion-toolbar"),f.TgZ(2,"ion-buttons",1),f.TgZ(3,"ion-button",2),f.NdJ("click",function(){return t.toggleCameraMenu()}),f._UZ(4,"ion-icon",3),f.qZA(),f.qZA(),f.TgZ(5,"ion-title"),f._uU(6),f.ALo(7,"translate"),f.qZA(),f.TgZ(8,"ion-buttons",4),f.TgZ(9,"ion-button",5),f._UZ(10,"ion-icon",6),f.qZA(),f.TgZ(11,"ion-button",5),f._UZ(12,"ion-icon",7),f.qZA(),f.qZA(),f.qZA(),f.TgZ(13,"ion-toolbar",8),f.TgZ(14,"ion-segment",9),f.YNc(15,P,3,2,"ng-container",10),f.ALo(16,"async"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(17,"ion-content"),f.TgZ(18,"ion-refresher",11),f.NdJ("ionRefresh",function(n){return t.doRefresh(n)}),f._UZ(19,"ion-refresher-content"),f.qZA(),f._UZ(20,"app-users-stories",12),f.ALo(21,"async"),f._UZ(22,"app-users-posts",13),f.ALo(23,"async"),f.ALo(24,"async"),f.TgZ(25,"ion-infinite-scroll",14),f.NdJ("ionInfinite",function(n){return t.loadDataNewsPagination(n)}),f._UZ(26,"ion-infinite-scroll-content",15),f.qZA(),f.qZA()),2&n&&(f.Q6J("translucent",!0),f.xp6(6),f.Oqu(f.lcZ(7,7,"bottomTabs.main")),f.xp6(9),f.Q6J("ngForOf",f.lcZ(16,9,t.tabs$))("ngForTrackBy",t.trackBy),f.xp6(5),f.Q6J("stories",f.lcZ(21,11,t.stories$)),f.xp6(2),f.Q6J("posts",f.lcZ(23,13,t.news$))("isLoading",f.lcZ(24,15,t.newsIsLoading$)))},directives:[l.Gu,l.sr,l.Sm,l.YG,l.gu,l.wd,l.cJ,l.QI,r.sg,l.W2,l.nJ,l.Wo,b,q,l.ju,l.MB,r.O5,l.GO,l.Q$,l.CK],pipes:[w.X$,r.Ov],styles:[""]}),(0,g.gn)([(0,p.Ph)((0,p.P1)([m.gI],function(n){return n.tabs.isLoading?Array(10).fill({skeleton:!0}):n.tabs.listData}))],M.prototype,"tabs$",void 0),(0,g.gn)([(0,p.Ph)((0,p.P1)([m.gI],function(n){return n.stories.isLoading?Array(10).fill({skeleton:!0}):n.stories.listData}))],M.prototype,"stories$",void 0),(0,g.gn)([(0,p.Ph)((0,p.P1)([m.gI],function(n){return n.news.pages.map(function(t){return n.news.listData[t]}).reduce(function(n,t){return n.concat(t)},[])}))],M.prototype,"news$",void 0),(0,g.gn)([(0,p.Ph)((0,p.P1)([m.gI],function(n){return n.news.isLoading}))],M.prototype,"newsIsLoading$",void 0),M)}],F=function(){var t=function t(){n(this,t)};return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({imports:[[u.Bz.forChild(J)],u.Bz]}),t}(),N=((U=function t(){n(this,t)}).\u0275fac=function(n){return new(n||U)},U.\u0275mod=f.oAB({type:U}),U.\u0275inj=f.cJS({imports:[[r.ez,F,s.H,c.i,a.m]]}),U)}}])}();