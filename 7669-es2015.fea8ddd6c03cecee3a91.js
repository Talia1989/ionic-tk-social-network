(self.webpackChunkion_tk_social_network=self.webpackChunkion_tk_social_network||[]).push([[7669],{57669:function(n,t,o){"use strict";o.r(t),o.d(t,{MainPageModule:function(){return P}});var i=o(61116),e=o(75425),s=o(6921),r=o(57476),a=o(39238),c=o(64762),g=o(74249),l=o(61071),p=o(9153),u=o(95898),d=o(55906),Z=o(33316);function m(n,t){1&n&&(Z.ynx(0),Z.TgZ(1,"ion-item",4),Z._UZ(2,"ion-skeleton-text",5),Z.qZA(),Z.TgZ(3,"div",6),Z.TgZ(4,"ion-text",7),Z._UZ(5,"ion-skeleton-text",8),Z.qZA(),Z.qZA(),Z.BQk())}const f=function(){return{seen:!1}};function h(n,t){if(1&n&&(Z.ynx(0),Z.TgZ(1,"ion-item",4),Z.TgZ(2,"ion-avatar",9),Z._UZ(3,"ion-img",10),Z.qZA(),Z.qZA(),Z.TgZ(4,"div",6),Z.TgZ(5,"ion-text",7),Z._uU(6),Z.qZA(),Z.qZA(),Z.BQk()),2&n){const n=Z.oxw().$implicit;Z.xp6(2),Z.Q6J("ngClass",Z.DdM(3,f)),Z.xp6(1),Z.Q6J("src",n.avatar),Z.xp6(3),Z.hij(" ",n.firstName," ")}}function x(n,t){if(1&n){const n=Z.EpF();Z.TgZ(0,"ion-list",2),Z.NdJ("click",function(t){const o=Z.CHM(n).$implicit;return Z.oxw().openStory(t,o)}),Z.YNc(1,m,6,0,"ng-container",3),Z.YNc(2,h,7,4,"ng-container",3),Z.qZA()}if(2&n){const n=t.$implicit;Z.xp6(1),Z.Q6J("ngIf",n.skeleton),Z.xp6(1),Z.Q6J("ngIf",!n.skeleton)}}let b=(()=>{class n{constructor(){this.isLoading=!0,this.onOpenStory=new Z.vpe}openStory(n,t){this.onOpenStory.emit(t)}trackByStory(n){return n}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z.Xpm({type:n,selectors:[["app-users-stories"]],inputs:{isLoading:"isLoading",stories:"stories"},outputs:{onOpenStory:"onOpenStory"},decls:2,vars:2,consts:[["scrollX","true",1,"stories-card"],["lines","none","class","story-list",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["lines","none",1,"story-list",3,"click"],[4,"ngIf"],["lines","none",1,"story-item"],[2,"height","64px","width","64px","border-radius","50%","margin","auto"],[1,"story-author"],["color","primary"],[2,"width","80%","margin","auto"],[1,"story-avatar",3,"ngClass"],[3,"src"]],template:function(n,t){1&n&&(Z.TgZ(0,"ion-card",0),Z.YNc(1,x,3,2,"ion-list",1),Z.qZA()),2&n&&(Z.xp6(1),Z.Q6J("ngForOf",t.stories)("ngForTrackBy",t.trackByStory))},directives:[g.PM,i.sg,g.q_,i.O5,g.Ie,g.CK,g.yW,g.BJ,i.mk,g.Xz],styles:[".stories-card[_ngcontent-%COMP%]{margin:16px 0 0;margin-top:var(--ion-margin,16px);border-radius:0}.stories-card[_ngcontent-%COMP%]   .story-list[_ngcontent-%COMP%]{--background:inherit;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;background:initial;padding-top:0;padding-bottom:0}.stories-card[_ngcontent-%COMP%]   .story-item[_ngcontent-%COMP%]{--inner-padding-bottom:0px;--inner-padding-end:0px;--inner-padding-start:0px;--inner-padding-top:0px;--padding-end:0px;--padding-start:0px;--background:inherit;margin:8px;margin:var(--ion-margin,8px);transition:all .1s ease-in-out}.stories-card[_ngcontent-%COMP%]   .story-item[_ngcontent-%COMP%]:active{transform:scale(1.1)}.stories-card[_ngcontent-%COMP%]   .story-avatar[_ngcontent-%COMP%]{background:var(--ion-color-primary);height:64px;width:64px;padding:2px;margin-top:0;margin-bottom:0}.stories-card[_ngcontent-%COMP%]   .story-avatar.seen[_ngcontent-%COMP%]{background:var(--ion-color-light)}.stories-card[_ngcontent-%COMP%]   .story-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;border:2px solid var(--background,#fff);border-radius:50%}.stories-card[_ngcontent-%COMP%]   .story-author[_ngcontent-%COMP%]{text-align:center;margin-bottom:8px;margin-bottom:var(--ion-margin,8px)}"]}),n})();function y(n,t){1&n&&(Z.TgZ(0,"ion-card",3),Z.TgZ(1,"ion-item",4),Z.TgZ(2,"ion-avatar",5),Z._UZ(3,"ion-skeleton-text",6),Z.qZA(),Z.TgZ(4,"ion-label"),Z._UZ(5,"ion-skeleton-text",7),Z.TgZ(6,"p"),Z._UZ(7,"ion-skeleton-text",8),Z.qZA(),Z.qZA(),Z.qZA(),Z._UZ(8,"ion-skeleton-text",9),Z.TgZ(9,"ion-card-content",10),Z._UZ(10,"ion-skeleton-text",11),Z.qZA(),Z.TgZ(11,"ion-item",12),Z.TgZ(12,"ion-buttons",5),Z.TgZ(13,"ion-button",13),Z._UZ(14,"ion-skeleton-text",14),Z.qZA(),Z.TgZ(15,"ion-button",13),Z._UZ(16,"ion-skeleton-text",14),Z.qZA(),Z.TgZ(17,"ion-button",13),Z._UZ(18,"ion-skeleton-text",14),Z.qZA(),Z.qZA(),Z.TgZ(19,"ion-buttons",15),Z.TgZ(20,"ion-button",13),Z._UZ(21,"ion-skeleton-text",14),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA())}const _=function(){return[1,2,3,4]};function A(n,t){1&n&&(Z.ynx(0),Z.YNc(1,y,22,0,"ion-card",2),Z.BQk()),2&n&&(Z.xp6(1),Z.Q6J("ngForOf",Z.DdM(1,_)))}function T(n,t){if(1&n&&(Z.TgZ(0,"ion-card",3),Z.TgZ(1,"ion-item",4),Z.TgZ(2,"ion-avatar",5),Z._UZ(3,"img",16),Z.qZA(),Z.TgZ(4,"ion-label"),Z._uU(5),Z.TgZ(6,"p"),Z._uU(7,"two minutes ago"),Z.qZA(),Z.qZA(),Z.TgZ(8,"ion-buttons",15),Z.TgZ(9,"ion-button",13),Z._UZ(10,"ion-icon",17),Z.qZA(),Z.qZA(),Z.qZA(),Z._UZ(11,"img",16),Z.TgZ(12,"ion-card-content",10),Z._uU(13),Z.qZA(),Z.TgZ(14,"ion-item",12),Z.TgZ(15,"ion-buttons",5),Z.TgZ(16,"ion-button",13),Z._UZ(17,"ion-icon",18),Z.TgZ(18,"small"),Z._uU(19),Z.qZA(),Z.qZA(),Z.TgZ(20,"ion-button",13),Z._UZ(21,"ion-icon",19),Z.TgZ(22,"small"),Z._uU(23),Z.qZA(),Z.qZA(),Z.TgZ(24,"ion-button",13),Z._UZ(25,"ion-icon",20),Z.TgZ(26,"small"),Z._uU(27),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(28,"ion-buttons",15),Z.TgZ(29,"ion-button",13),Z._UZ(30,"ion-icon",21),Z.TgZ(31,"small"),Z._uU(32),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()),2&n){const n=t.$implicit;Z.xp6(3),Z.Q6J("src",n.avatar,Z.LSH),Z.xp6(2),Z.AsE(" ",n.firstName," ",n.lastName," "),Z.xp6(6),Z.Q6J("src",n.image,Z.LSH),Z.xp6(2),Z.hij(" ",n.content," "),Z.xp6(6),Z.Oqu(n.likes),Z.xp6(4),Z.Oqu(n.comments),Z.xp6(4),Z.Oqu(n.shared),Z.xp6(5),Z.Oqu(n.views)}}let q=(()=>{class n{constructor(){this.isLoading=!0}trackByPost(n){return n}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z.Xpm({type:n,selectors:[["app-users-posts"]],inputs:{isLoading:"isLoading",posts:"posts"},decls:2,vars:3,consts:[[4,"ngIf"],["class","post-list-card",4,"ngFor","ngForOf","ngForTrackBy"],["class","post-list-card",4,"ngFor","ngForOf"],[1,"post-list-card"],["lines","none"],["slot","start"],[2,"width","100%","height","100%","border-radius","50%"],[2,"width","50%"],[2,"width","100%"],[2,"width","100%","height","200px"],[1,"post-list-content"],[2,"width","100%","height","50px"],["lines","none",1,"ion-no-padding",2,"margin-left","10px"],["color","medium"],[2,"width","32px","height","32px","border-radius","50%"],["slot","end"],[3,"src"],["slot","icon-only","md","ellipsis-vertical-outline","ios","ellipsis-horizontal-outline"],["slot","start","name","heart-outline"],["slot","start","name","chatbox-outline"],["slot","start","name","return-up-forward-outline"],["size","small","slot","start","name","eye-outline"]],template:function(n,t){1&n&&(Z.YNc(0,A,2,2,"ng-container",0),Z.YNc(1,T,33,9,"ion-card",1)),2&n&&(Z.Q6J("ngIf",t.isLoading),Z.xp6(1),Z.Q6J("ngForOf",t.posts)("ngForTrackBy",t.trackByPost))},directives:[i.O5,i.sg,g.PM,g.Ie,g.BJ,g.CK,g.Q$,g.FN,g.Sm,g.YG,g.gu],styles:["[_nghost-%COMP%]:last-child{margin-bottom:32px;margin-bottom:var(--ion-margin,32px)}.post-list-card[_ngcontent-%COMP%]{margin-top:16px;margin-top:var(--ion-margin,16px);margin-left:0;margin-right:0;margin-bottom:0;border-radius:0}.post-list-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--inner-padding-end:0px;--background:inherit}.post-list-card[_ngcontent-%COMP%]   .post-list-content[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.post-list-card[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{margin-right:16px!important;margin-right:var(--ion-margin,16px)!important}"]}),n})();var k=o(85649);function w(n,t){1&n&&(Z.TgZ(0,"ion-segment-button"),Z.TgZ(1,"ion-label"),Z._UZ(2,"ion-skeleton-text",18),Z.qZA(),Z.qZA())}function v(n,t){if(1&n&&(Z.TgZ(0,"ion-segment-button",19),Z.TgZ(1,"ion-label"),Z._uU(2),Z.ALo(3,"translate"),Z.qZA(),Z.qZA()),2&n){const n=Z.oxw().$implicit;Z.Q6J("value",n.name),Z.xp6(2),Z.Oqu(Z.lcZ(3,2,"mainTabs."+n.name))}}function O(n,t){if(1&n&&(Z.ynx(0),Z.YNc(1,w,3,0,"ion-segment-button",16),Z.YNc(2,v,4,4,"ion-segment-button",17),Z.BQk()),2&n){const n=t.$implicit;Z.xp6(1),Z.Q6J("ngIf",n.skeleton),Z.xp6(1),Z.Q6J("ngIf",!n.skeleton)}}const C=[{path:"",component:(()=>{class n{constructor(n,t){this.store=n,this.menuController=t}trackBy(n){return n}toggleCameraMenu(){console.log("toggleCameraMenu"),this.menuController.toggle("camera")}doRefresh(n){return(0,c.mG)(this,void 0,void 0,function*(){yield(0,p.n)(this.store.dispatch(new u.Nw.FetchNews(1,!0))),yield this.ionRefresher.complete()})}loadDataNewsPagination(n){return(0,c.mG)(this,void 0,void 0,function*(){const n=this.store.selectSnapshot(n=>n.main.news.activePage);yield(0,p.n)(this.store.dispatch(new u.Nw.FetchNews(n+1))),yield this.infiniteScroll.complete()})}ngOnInit(){return(0,c.mG)(this,void 0,void 0,function*(){})}ionViewDidEnter(){const n=this.store.selectSnapshot(n=>n.main.news.activePage);this.store.dispatch([new u.NR.FetchMainTabs,new u.oz.FetchStories,new u.Nw.FetchNews(n)]),this.menuController.enable(!0,"camera")}ionViewDidLeave(){this.menuController.enable(!1,"camera")}}return n.\u0275fac=function(t){return new(t||n)(Z.Y36(l.yh),Z.Y36(g._q))},n.\u0275cmp=Z.Xpm({type:n,selectors:[["app-main"]],viewQuery:function(n,t){if(1&n&&(Z.Gf(g.W2,5),Z.Gf(g.nJ,5),Z.Gf(g.ju,5)),2&n){let n;Z.iGM(n=Z.CRH())&&(t.ionContent=n.first),Z.iGM(n=Z.CRH())&&(t.ionRefresher=n.first),Z.iGM(n=Z.CRH())&&(t.infiniteScroll=n.first)}},decls:27,vars:17,consts:[[3,"translucent"],["slot","start"],["color","primary",3,"click"],["slot","icon-only","name","camera-outline"],["slot","end"],["color","primary"],["slot","icon-only","name","search-outline"],["slot","icon-only","name","notifications-outline"],[1,"ion-no-padding"],["mode","md","scrollable","","value","news"],[4,"ngFor","ngForOf","ngForTrackBy"],["slot","fixed","pullFactor","0.5","pullMin","50","pullMax","100",3,"ionRefresh"],[3,"stories"],[3,"posts","isLoading"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","lines"],[4,"ngIf"],[3,"value",4,"ngIf"],[2,"width","70px"],[3,"value"]],template:function(n,t){1&n&&(Z.TgZ(0,"ion-header",0),Z.TgZ(1,"ion-toolbar"),Z.TgZ(2,"ion-buttons",1),Z.TgZ(3,"ion-button",2),Z.NdJ("click",function(){return t.toggleCameraMenu()}),Z._UZ(4,"ion-icon",3),Z.qZA(),Z.qZA(),Z.TgZ(5,"ion-title"),Z._uU(6),Z.ALo(7,"translate"),Z.qZA(),Z.TgZ(8,"ion-buttons",4),Z.TgZ(9,"ion-button",5),Z._UZ(10,"ion-icon",6),Z.qZA(),Z.TgZ(11,"ion-button",5),Z._UZ(12,"ion-icon",7),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(13,"ion-toolbar",8),Z.TgZ(14,"ion-segment",9),Z.YNc(15,O,3,2,"ng-container",10),Z.ALo(16,"async"),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(17,"ion-content"),Z.TgZ(18,"ion-refresher",11),Z.NdJ("ionRefresh",function(n){return t.doRefresh(n)}),Z._UZ(19,"ion-refresher-content"),Z.qZA(),Z._UZ(20,"app-users-stories",12),Z.ALo(21,"async"),Z._UZ(22,"app-users-posts",13),Z.ALo(23,"async"),Z.ALo(24,"async"),Z.TgZ(25,"ion-infinite-scroll",14),Z.NdJ("ionInfinite",function(n){return t.loadDataNewsPagination(n)}),Z._UZ(26,"ion-infinite-scroll-content",15),Z.qZA(),Z.qZA()),2&n&&(Z.Q6J("translucent",!0),Z.xp6(6),Z.Oqu(Z.lcZ(7,7,"bottomTabs.main")),Z.xp6(9),Z.Q6J("ngForOf",Z.lcZ(16,9,t.tabs$))("ngForTrackBy",t.trackBy),Z.xp6(5),Z.Q6J("stories",Z.lcZ(21,11,t.stories$)),Z.xp6(2),Z.Q6J("posts",Z.lcZ(23,13,t.news$))("isLoading",Z.lcZ(24,15,t.newsIsLoading$)))},directives:[g.Gu,g.sr,g.Sm,g.YG,g.gu,g.wd,g.cJ,g.QI,i.sg,g.W2,g.nJ,g.Wo,b,q,g.ju,g.MB,i.O5,g.GO,g.Q$,g.CK],pipes:[k.X$,i.Ov],styles:[""]}),(0,c.gn)([(0,l.Ph)((0,l.P1)([d.gI],n=>n.tabs.isLoading?Array(10).fill({skeleton:!0}):n.tabs.listData))],n.prototype,"tabs$",void 0),(0,c.gn)([(0,l.Ph)((0,l.P1)([d.gI],n=>n.stories.isLoading?Array(10).fill({skeleton:!0}):n.stories.listData))],n.prototype,"stories$",void 0),(0,c.gn)([(0,l.Ph)((0,l.P1)([d.gI],n=>n.news.pages.map(t=>n.news.listData[t]).reduce((n,t)=>n.concat(t),[])))],n.prototype,"news$",void 0),(0,c.gn)([(0,l.Ph)((0,l.P1)([d.gI],n=>n.news.isLoading))],n.prototype,"newsIsLoading$",void 0),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z.oAB({type:n}),n.\u0275inj=Z.cJS({imports:[[a.Bz.forChild(C)],a.Bz]}),n})(),P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z.oAB({type:n}),n.\u0275inj=Z.cJS({imports:[[i.ez,M,s.H,r.i,e.m]]}),n})()}}]);